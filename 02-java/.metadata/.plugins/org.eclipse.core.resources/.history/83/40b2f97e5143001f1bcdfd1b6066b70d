package com.ssafy.hw.day03.step03;

import java.io.*;
import java.util.*;

public class Solution {
	
	static int[] searchIndexX = {1, -1, 0, 0, 1, 1, -1, -1};
	static int[] searchIndexY = {0, 0, 1, -1, -1, 1, 1, -1};
	
	public static void main(String[] args) throws NumberFormatException, IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
		
		int testcase = Integer.parseInt(br.readLine());
		StringTokenizer st;
		for (int i = 0; i < testcase; i++) {
			// 한 변의 길이
			int N = Integer.parseInt(br.readLine());
			// 0과 max 값에 대한 예외처리 안하려고 선언
			String[][] city = new String[N+2][N+2];
			
			// 도시 초기화
			for (int j = 1; j < N+1; j++) {
				st = new StringTokenizer(br.readLine());
				for (int j2 = 1; j2 < N+1; j2++) {
					city[j][j2] = st.nextToken();
				}
			}
//			System.out.println(Arrays.deepToString(city));
			int max = Integer.MIN_VALUE;
			boolean check = true;
			int[] indexs = new int[2];
			for (int j = 1; j <= N; j++) {
				// 8방 탐색
				for (int k = 1; k <= N; k++) {
					check = true;
					int count = 0;
					for (int j2 = 0; j2 < 8; j2++) {
						// 내 위치는 항상 B일때만 체크
						if(city[j][k].equals("G"))break;
						if( city[j+searchIndexY[j2]][k+searchIndexX[j2]] != null && city[j+searchIndexY[j2]][k+searchIndexX[j2]].equals("G")) {
							check = false;
							break;
						}
						//if(j == 5 && k == 4) System.out.println(check);
					}
					indexs[0] = j;
					indexs[1] = k;
					if(check) {
						for (int x = 1; x <= N; x++) {
							//System.out.println(indexs[1]);
							//System.out.println(indexs[0]);
							if(city[x][indexs[1]] != null && city[x][indexs[1]].equals("B")) {
								System.out.println(count);
								count++;
							}
							if(city[indexs[0]][x] != null && city[indexs[0]][x].equals("B")) {
								System.out.println(count);
								count++;
							}
						}
					}
					System.out.println();
					count -= 2;
					max = Math.max(max, count);
				}
				//if(indexs[0] == 5 && indexs[1] == 4) System.out.println(check);
				
				// 내 위치는 제거

			}
			bw.write("#"+(i+1)+" "+max+"");
			
		}
		bw.flush();
		
		
	}

}
//1
//6
//G B G G B B
//G B G G B G
//B B B B G B
//B G B B B B
//G B B B B G
//G B B B B G
//5
//G B G G B
//G B G G B
//B B B B G
//B G B B B
//G B B B B
//3
//G G B
//G B B
//B B B